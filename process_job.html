目標
プロセスの仕組みを理解する。
現在実行しているプロセスを確認できるようになる。
ジョブの仕組みを理解する。
ジョブをバックグラウンドで実行できるようになる。
プロセスとジョブを修了できるようになる。

メリット
コマンドの実行の裏側を理解すると、複数の作業を同時に行うことができる。
メモリやCPUの消費量を把握し、トラブルシューティングができるようになる。


-----------------------------------------------------------

プロセスについて
実行中のプログラムのこと

流れ
コマンドを実行すると実行ファイルがメモリに格納され、メモリ上でCPUがプログラムを実行する。
*1つコマンドを実行するごとに新しいプロセスが追加される。

-----------------------------------------------------------

psコマンド(process status)
実行中のプログラムを表示するコマンド

ps (オプション)
例  ps(-をつけない)
    PID  TTY        TIME  CMD   (PID プロセスID  CMD コマンド名)
オプション
aux 全ユーザーのプロセスを、詳細情報を併せて表示
(aは全てのユーザーのプロセス。  uは詳細情報の表示。 xはpsコマンド実行したユーザーのすべてのプロセス)

-----------------------------------------------------------

ジョブについて
まとめて実行されるプロセスの集まり

ps aux | grep bash | less
→  プロセスは3つ生成され、ジョブは1つのみ生成される
違い
プロセス  OSで一括して管理されている。自動で実行されているプログラムや他ユーザーのプログラムも一括管理
ジョブ    ジョブは実行しているシェルでのみ管理される(ジョブIDあり)

-----------------------------------------------------------

fg・bgコマンド
シェルの画面外で実行すること    バックグラウンド
シェルの画面内で実行すること    フォアグラウンド

*コマンド実行時はこの fg,bg,停止を行ったり来たりしている。

フォアグラウンド            停止(→ ctrl z   ← fgコマンド)
               fg          ↓
                ←         バックグラウンド

jobsコマンド
現在のジョブの一覧を表示するコマンド
jobs
1+        実行中 sleep 10&
ジョブiD   実行状況 コマンド名

fgコマンド
ジョブをフォアグランドにするコマンド(対話的に操作したい時に良い)
fg %ジョブ名

bgコマンド
ジョブをバックグラウンドにするコマンド(処理に長い時間かかる場合、bgで行うことでcom終了待たなくて済む)
bg(コマンド名) &(%)ジョブ名

-----------------------------------------------------------

killコマンド(kill process)
実行中のジョブやプロセスを終了するコマンド

kill % (ジョブ名)
kill (プロセス名)
fgで実行中のジョブは ctrl c で修了できる
bgや停止中のジョブはkillコマンドで終了できる

補足(シグナルを送信するコマンド。デフォルトでTERMという終了を支持するシグナルを送信している。)
kill 4965 === kill -TERM 4965
時々使うシグナル
kill -SIGKIL(= -9) 4965     (SIGKILL)は強制終了のシグナルできれば使わないように
